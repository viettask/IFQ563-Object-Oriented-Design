Observer -> Behavioural design pattern.

-	An observer pattern captures a one-to-many dependency relationship between objects
-	One object (the subject) changes state, and all dependants (observers) are notified and updated automatically
-	Observer pattern is often used in Graphical User Interface (GUI)
-	In window-based GUI, we often would like to display data in more than one form at the same time and have all of the displays reflect any changes in that data.
-	Changes may be made to any observer, which requests modification to the subject (ex: databases)
	Then the subject sends change notification to all its observers to ask them to refresh their GUIs.

Problems: How can you update an object's dependents?
Forces: 
	+ A subject needs to update its dependents.
	+ Reduce coupling between subjects and dependents.
	Giảm sự liên kết giữa chủ thể và người lệ thuộc
Solution:
	+ Subject keeps a list of dependents.
	+ Dependents subscribe to the subject.
		Join the list
	+ Subject publishes notifications to all dependents

Concept: The Observer Pattern is all about "listening" to changes.
It provides a way for objects to communicate changes to other objects that are interested in those changes.

https://medium.com/@lexitrainerph/observer-pattern-in-c-from-basics-to-advanced-ea4b2d748e

Components of Observer design pattern:
1. Subject:
	- knows its observers.
	- provides an interface for attaching and detaching Observer objects.
	- There could be any number of Observer objects that may observe a subject.
	- When its state changes, the Subject sends a notification to all its observers when its state changes.
2. Observer:
	- defines an updating interface by the Subject to notify the changes in a Subject.
3. Concrete Subject:
	- May store state of interest to Concrete Observer objects.
	- sends a notification to its observers when its state changes
4. Concrete Observer:
	- Maintain a reference to a Concrete Subject.
	- Implement Observer interface to handle notifications
	- Store state that should stay consistent with Subject

Ex: A news agency and its subscribers:
	
	// Subject
	public interface INewsAgency
	{
		void Attach(ISubscriber subscriber);
		void Detach(ISubscriber subscriber);
		void Notify();
	}

	// Observer
	public interface ISubscriber
	{
		void Update(string news);
	}

	// ConcreteSubject
	public class NewsAgency : INewsAgency
	{
		private List<ISubscriber> _subscribers = new List<ISubscriber>();
		private string _news;

		public void Attach(ISubscriber subscriber)
		{
			_subscribers.Add(subscriber);
		}

		public void Detach(ISubscriber subscriber)
		{
			_subscribers.Remove(subscriber);
		}

		public void Notify()
		{
        foreach (var subscriber in _subscribers)
			{
				subscriber.Update(_news);
			}
		}

		public void ReleaseNews(string news)
		{
			_news = news;
			Notify();
		}
	}

	

	// ConcreteObserver
	public class Newspaper : ISubscriber
	{
		public void Update(string news)
		{
			Console.WriteLine($"Newspaper received news: {news}");
		}
	}

Observer applicability:
-	This following list represents the applicability of Observer:
	+ An abstraction has two or more aspects, one dependent on the other.
	+ A change to one object requires changing others, without knowing how many other objects
	+ An object needs to notify other objects, without knowing what those objects are
	+ Known uses of Observers are Smalltalk MVC and almost all other Window systems

Take note:
-	An abstract coupling between subject and observer can vary subjects and observers independent
	and add new observers without modifying subject or other observers.
-	Observer can broadcast a notification to all interested objects that are subscribed to it;
	any number of observers may observe one subject.